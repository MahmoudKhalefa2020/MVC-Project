@using Microsoft.AspNetCore.Identity
@using Center_ElGhalaba.Constants
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@{
    ApplicationUser user = await UserManager.GetUserAsync(User);
}
@model StudentPaymentVM
@{
    ViewData["Title"] = "PaymentSuccess";
}


<div id="staticBackdrop">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body ">
                <div class="text-right"> <i class="fa fa-close close" data-dismiss="modal"></i> </div>
                <div class="px-4 py-5">
                    <h1>Successful Payment</h1>

                    @*<div class="card-img">
                    <img class="card-img-top" src="data:image/*;base64,@(Convert.ToBase64String(Model.LessonCoverPicture))" />
                    </div>*@

                    <h5 class="text-uppercase">@Model.StudentName</h5>

                    <span class="theme-color">Payment Summary</span>
                    <div class="mb-3">
                        <hr class="new1">
                    </div>

                    <div class="d-flex justify-content-between">
                        <span class="font-weight-bold">@Model.LessonTitle</span>
                        <span class="text-muted">@Model.Price LE</span>
                    </div>

                    <div class="d-flex justify-content-between">
                        <small>Discount</small>
                        <small>@Model.Discount LE</small>
                    </div>

                    <div class="d-flex justify-content-between mt-3">
                        <span class="font-weight-bold">Total</span>
                        <span class="font-weight-bold theme-color">@Model.Net LE</span>
                    </div>

                    <span class="theme-color mt-2">Payment Options</span>
                    <div class="mb-3">
                        <hr class="new1">
                    </div>

                    <div class="d-flex justify-content-between">
                        <span class="font-weight-bold">Payment</span>
                        <span class="text-muted">@Model.PaymentName</span>
                    </div>
                    
                    <div class="d-flex justify-content-between">
                        <small class="font-weight-bold">Payment Value</small>
                        <small class="text-muted">@Model.PaymentValue</small>
                    </div>

                    <a class="btn btn-primary mt-3" asp-action="Watch" asp-controller="Lesson" asp-route-ID="@Model.LessonID" asp-route-userID="@user.Id">Go To Lesson</a>
                    <br />
                    <a class="mt-1" asp-action="Index" asp-controller="Lesson">Browse Lessons</a>
                </div>
            </div>
        </div>
    </div>
</div>

